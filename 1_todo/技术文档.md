# Todo 程序技术文档

## 项目概述
这是一个基于Go语言开发的命令行待办事项管理器，提供添加、列表、删除和完成待办事项的功能。

## 技术栈

### 核心技术
- **Go语言**: 程序主要开发语言
- **Go标准库**: 使用标准库实现所有功能，无外部依赖

### 使用的标准库包

#### 1. encoding/json
- **用途**: JSON数据序列化和反序列化
- **应用场景**: 
  - 将待办事项数据保存到JSON文件
  - 从JSON文件加载待办事项数据
  - 格式化JSON输出（带缩进）

#### 2. flag
- **用途**: 命令行参数解析
- **支持的参数**:
  - `-add`: 添加新的待办事项
  - `-list`: 列出所有待办事项  
  - `-del`: 删除指定ID的待办事项
  - `-complete`: 完成指定ID的待办事项

#### 3. fmt
- **用途**: 格式化输入输出
- **应用场景**:
  - 打印用户反馈信息
  - 格式化待办事项显示
  - 错误信息输出

#### 4. os
- **用途**: 操作系统接口
- **应用场景**:
  - 文件读写操作
  - 文件存在性检查
  - 文件创建和打开

#### 5. time
- **用途**: 时间处理
- **应用场景**:
  - 记录待办事项创建时间
  - 记录待办事项完成时间
  - 格式化时间显示

## 数据结构

### Todo 结构体
```go
type Todo struct {
    Id          int       `json:"id"`          // 待办事项唯一标识
    Content     string    `json:"content"`     // 待办事项内容
    CreatedAt   time.Time `json:"created_at"`  // 创建时间
    CompletedAt time.Time `json:"completed_at"` // 完成时间
    Completed   bool      `json:"completed"`    // 完成状态
}
```

## 功能特性

### 1. 数据持久化
- 使用JSON文件存储待办事项
- 自动加载和保存数据
- 文件不存在时自动初始化

### 2. 命令行界面
- 基于flag包的参数解析
- 清晰的使用说明
- 友好的错误提示

### 3. 核心功能
- **添加待办**: 创建新的待办事项，自动分配ID
- **列出待办**: 显示所有待办事项及其状态
- **删除待办**: 根据ID删除指定待办事项
- **完成待办**: 标记待办事项为已完成，记录完成时间

## 程序架构

### 文件结构
```
1_todo/
├── todo.go      # 主程序文件
├── todo.json    # 数据存储文件
└── 技术文档.md   # 本技术文档
```

### 主要函数
- `init()`: 初始化命令行参数和加载数据
- `main()`: 程序入口，根据参数执行相应操作
- `loadTodos()`: 从JSON文件加载待办事项
- `saveTodos()`: 将待办事项保存到JSON文件
- `addTodo()`: 添加新的待办事项
- `listTodos()`: 列出所有待办事项
- `delTodo()`: 删除指定待办事项
- `completeTodo()`: 完成指定待办事项

## 技术亮点

1. **零外部依赖**: 完全使用Go标准库实现
2. **简洁设计**: 代码结构清晰，功能模块化
3. **错误处理**: 完善的错误处理机制
4. **用户友好**: 清晰的命令行界面和反馈信息
5. **数据安全**: 使用JSON格式存储，数据结构化且可读

## 运行方式

```bash
# 编译程序
go build -o todo todo.go

# 使用示例
./todo -add "学习Go语言"
./todo -list
./todo -complete 1
./todo -del 1
```